<div class="relative w-full h-[400px] overflow-hidden">
  <div class="absolute inset-0 bg-[url('/assets/res.jpg')] bg-cover bg-center">
    <div class="absolute inset-0 bg-black/60"></div>
  </div>

  <div class="relative z-10 h-full flex flex-col justify-center px-12 md:px-24">
    <span class="text-orange-500 font-semibold tracking-widest uppercase mb-2"
      >Exquisite Taste</span
    >
    <h1
      class="text-5xl md:text-7xl font-extrabold text-white mb-6 max-w-2xl leading-tight"
    >
      Experience Authentic <br />
      Oriental Flavors
    </h1>

    <p-button
      label="Reserve a Table"
      (onClick)="showReservation()"
      styleClass="p-4 text-lg font-bold !bg-orange-500 !border-none hover:!bg-orange-600 transition-transform hover:scale-105 w-fit"
    >
    </p-button>
  </div>
</div>

<div class="bg-zinc-950 py-16 px-8">
  <div class="flex flex-col items-center mb-12">
    <h2 class="text-4xl text-white font-bold mb-2 uppercase tracking-widest">
      Popular Dishes
    </h2>
    <div class="w-20 h-1 bg-orange-500"></div>
  </div>

  <div
    class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8 max-w-7xl mx-auto"
  >
    @for (dish of popularDish(); track dish.id) {
      <p-card
        styleClass="!bg-zinc-900 !border-none !text-white overflow-hidden shadow-2xl group"
      >
        <ng-template #header>
          <div class="overflow-hidden">
            <img
              [src]="dish.image"
              class="w-full h-56 object-cover group-hover:scale-110 transition-transform duration-500"
            />
          </div>
        </ng-template>
        <h3 class="text-xl font-bold">{{ dish.name }}</h3>
        <p class="text-zinc-400 text-sm mb-4 italic">
          "{{ dish.description }}"
        </p>
        <div
          class="flex justify-between items-center pt-4 border-t border-zinc-800"
        >
          <span class="text-xl font-bold text-orange-400"
            >${{ dish.price }}</span
          >
          <p-button
            label="View More"
            [text]="true"
            (onClick)="viewDishDetails(dish)"
            styleClass="!text-zinc-400 hover:!text-orange-500 !p-0"
          >
          </p-button>
        </div>
      </p-card>
    }
  </div>
</div>

<div id="chef" class="relative w-full h-[500px] overflow-hidden group">
  <img src="/assets/chef.jpg" class="w-full h-full object-cover" />
  <div
    class="absolute inset-0 bg-gradient-to-r from-black/80 to-transparent"
  ></div>
  <div
    class="absolute inset-0 flex flex-col justify-center px-12 md:px-24 space-y-4"
  >
    <span class="text-orange-500 tracking-widest uppercase text-sm"
      >Meet Our Master</span
    >
    <h2 class="text-4xl md:text-6xl font-bold text-white max-w-lg">
      Culinary Excellence
    </h2>
    <p class="text-zinc-300 max-w-md italic">
      "ဟင်းပွဲတိုင်းတွင် စေတနာအပြည့်ဖြင့် ချက်ပြုတ်ပြင်ဆင်ထားပါသည်။"
    </p>
  </div>
</div>

<div id="ambience" class="bg-zinc-900 py-20 px-8">
  <h2
    class="text-center text-3xl font-bold text-white mb-12 uppercase tracking-widest"
  >
    Our Ambience
  </h2>
  <div class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-7xl mx-auto">
    @for (img of restImage; track $index) {
      <p-image
        [src]="img.image"
        [preview]="true"
        width="100%"
        imageClass="w-full h-64 object-cover rounded-lg hover:opacity-80 transition-opacity"
      ></p-image>
    }
  </div>
</div>

<div id="reviews" class="bg-zinc-950 py-16 px-8">
  <div class="flex flex-col items-center mb-12">
    <h2
      class="text-3xl text-white font-bold tracking-widest uppercase text-center"
    >
      Voices of Our Diners
    </h2>
    <div class="w-20 h-1 bg-orange-500 mt-2"></div>
    <p class="text-zinc-500 italic mt-4 text-center max-w-xl">
      What our guests are saying about their culinary journey with us.
    </p>
  </div>

  <div class="max-w-7xl mx-auto">
    <p-carousel
      [value]="reviews"
      [numVisible]="3"
      [numScroll]="1"
      [circular]="true"
      [responsiveOptions]="responsiveOptions"
      [autoplayInterval]="4000"
    >
      <ng-template #item let-review>
        <div
          class="bg-zinc-900 m-3 p-8 rounded-lg border-l-4 border-orange-500 h-[240px] flex flex-col justify-between shadow-2xl"
        >
          <div>
            <div class="flex gap-1 mb-4">
              @for (star of [1, 2, 3, 4, 5]; track $index) {
                <i class="pi pi-star-fill text-orange-500 text-[10px]"></i>
              }
            </div>

            <p
              class="text-zinc-300 italic leading-relaxed text-sm line-clamp-5"
            >
              "{{ review.comment }}"
            </p>
          </div>

          <div
            class="text-white font-bold text-xs tracking-widest uppercase border-t border-zinc-800 pt-4 mt-4"
          >
            — {{ review.name }}
          </div>
        </div>
      </ng-template>
    </p-carousel>
  </div>
</div>

<p-dialog
  [(visible)]="detailVisible"
  [modal]="true"
  [draggable]="false"
  [resizable]="false"
  [showHeader]="true"
  [dismissableMask]="true"
  [style]="{ width: '70vw', maxWidth: '900px' }"
  [breakpoints]="{ '960px': '95vw' }"
  styleClass="custom-dish-dialog overflow-hidden"
>
  <ng-template #header>
    <div class="flex items-center gap-2">
      <span class="text-orange-500 font-bold uppercase tracking-tighter text-xs"
        >Dish Details</span
      >
    </div>
  </ng-template>

  @if (selectedDish) {
    <div class="grid grid-cols-1 md:grid-cols-2 -m-6">
      <div class="h-64 md:h-[450px]">
        <img
          [src]="selectedDish.image"
          class="w-full h-full object-cover"
          [alt]="selectedDish.name"
        />
      </div>

      <div
        class="p-8 md:p-10 flex flex-col justify-center bg-zinc-900 text-white"
      >
        <h2 class="text-3xl font-bold mb-2">{{ selectedDish.name }}</h2>
        <div class="flex items-center gap-3 mb-4">
          <span class="text-2xl font-bold text-orange-400"
            >${{ selectedDish.price }}</span
          >
          <span class="text-zinc-500 text-sm">| Preparation: 20 mins</span>
        </div>
        <p class="text-zinc-400 italic mb-6">
          "{{ selectedDish.description }}"
        </p>
      </div>
    </div>
  }
</p-dialog>
